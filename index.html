<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>The Architect - Ultra Game Master</title>
    <style>
        :root { --gold: #d4af37; --dark: #0a0b10; --card: #161b22; --accent: #3498db; }
        body { background-color: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* الهيدر والتحكم بالأسئلة */
        .header { background: var(--card); padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--gold); }
        .nav-btn { background: var(--gold); border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; border-radius: 5px; }

        .game-layout { display: grid; grid-template-columns: 250px 1fr 250px; flex: 1; padding: 20px; gap: 30px; }
        .side-panel { background: var(--card); border: 2px solid var(--gold); border-radius: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .score { font-size: 80px; font-weight: 900; text-shadow: 0 0 15px var(--gold); }

        .q-display { background: var(--card); padding: 20px; border-radius: 15px; text-align: center; font-size: 28px; margin-bottom: 20px; border: 1px solid #333; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .card { background: var(--card); height: 70px; display: flex; align-items: center; justify-content: center; border-radius: 10px; font-size: 22px; cursor: pointer; border: 1px solid #444; transition: 0.3s; }
        .card.revealed { background: var(--gold); color: black; font-weight: bold; }

        /* النافذة المنبثقة (Modal) */
        #modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: var(--card); padding: 40px; border-radius: 20px; border: 2px solid var(--gold); width: 400px; text-align: center; }
        .modal-btn { display: block; width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 10px; font-size: 18px; cursor: pointer; color: white; }
    </style>
</head>
<body>

<div class="header">
    <button class="nav-btn" onclick="prevQ()">السؤال السابق</button>
    <div id="q-count">سؤال 1 من 5</div>
    <button class="nav-btn" onclick="nextQ()">السؤال التالي</button>
</div>

<div class="game-layout">
    <div class="side-panel"><h2 id="n1">فريق أ</h2><div class="score" id="s1">0</div></div>
    
    <div class="center">
        <div class="q-display" id="q-text">جاري التحميل...</div>
        <div class="grid" id="grid"></div>
    </div>

    <div class="side-panel"><h2 id="n2">فريق ب</h2><div class="score" id="s2">0</div></div>
</div>

<div id="modal">
    <div class="modal-content">
        <h3 id="modal-q-title" style="color:var(--gold)">من صاحب الإجابة؟</h3>
        <p id="target-ans" style="font-size: 20px;"></p>
        <button class="modal-btn" style="background:#2ecc71" onclick="assignPoints(1)">فريق أ</button>
        <button class="modal-btn" style="background:#3498db" onclick="assignPoints(2)">فريق ب</button>
        <button class="modal-btn" style="background:#e74c3c" onclick="assignPoints(0)">لا أحد</button>
        <button onclick="closeModal()" style="background:none; border:none; color:#777; cursor:pointer; margin-top:10px;">إلغاء</button>
    </div>
</div>

<script>
    const questions = [
        { q: "أكثر 10 مسلسلات كرتون شهيرة؟", a: [{t:"توم وجيري",p:1},{t:"سبونج بوب",p:2},{t:"ون بيس",p:3},{t:"ناروتو",p:4},{t:"دراغون بول",p:5},{t:"المحقق كونان",p:6},{t:"سيمبسون",p:7},{t:"بوكيمون",p:8},{t:"بين 10",p:9},{t:"أبطال الديجيتال",p:10}] },
        { q: "أشهر 10 أندية كرة قدم عالمية؟", a: [{t:"ريال مدريد",p:1},{t:"برشلونة",p:2},{t:"ليفربول",p:3},{t:"مانشستر يونايتد",p:4},{t:"بايرن ميونخ",p:5},{t:"ميلان",p:6},{t:"يوفنتوس",p:7},{t:"باريس سان جيرمان",p:8},{t:"مانشستر سيتي",p:9},{t:"تشيلسي",p:10}] },
        { q: "أكثر 10 دول سياحية في العالم؟", a: [{t:"فرنسا",p:1},{t:"إسبانيا",p:2},{t:"أمريكا",p:3},{t:"الصين",p:4},{t:"إيطاليا",p:5},{t:"تركيا",p:6},{t:"المكسيك",p:7},{t:"ألمانيا",p:8},{t:"تايلاند",p:9},{t:"بريطانيا",p:10}] }
    ];

    let currentQ = 0, score1 = 0, score2 = 0, activeIdx = -1;

    function render() {
        const q = questions[currentQ];
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('q-count').innerText = `سؤال ${currentQ + 1} من ${questions.length}`;
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        q.a.forEach((ans, i) => {
            const div = document.createElement('div');
            div.className = `card ${ans.rev ? 'revealed' : ''}`;
            div.innerHTML = ans.rev ? `${ans.t} (${ans.p})` : (i + 1);
            div.onclick = () => openModal(i);
            grid.appendChild(div);
        });
    }

    function openModal(i) {
        if (questions[currentQ].a[i].rev) return;
        activeIdx = i;
        document.getElementById('target-ans').innerText = `الإجابة: ${questions[currentQ].a[i].text || 'إجابة رقم ' + (i+1)}`;
        document.getElementById('modal').style.display = 'flex';
    }

    function assignPoints(team) {
        const p = questions[currentQ].a[activeIdx].p;
        questions[currentQ].a[activeIdx].rev = true;
        if(team === 1) score1 += p;
        if(team === 2) score2 += p;
        document.getElementById('s1').innerText = score1;
        document.getElementById('s2').innerText = score2;
        closeModal();
        render();
    }

    function closeModal() { document.getElementById('modal').style.display = 'none'; }
    function nextQ() { if(currentQ < questions.length-1) { currentQ++; render(); } }
    function prevQ() { if(currentQ > 0) { currentQ--; render(); } }

    render();
</script>
</body>
</html>
